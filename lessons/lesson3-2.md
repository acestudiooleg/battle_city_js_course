# 3.2: –°–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è ‚å®Ô∏è

## –©–æ –º–∏ –±—É–¥–µ–º–æ —Ä–æ–±–∏—Ç–∏? üéØ

–£ —Ü—å–æ–º—É –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ –º–∏ —Å—Ç–≤–æ—Ä–∏–º–æ –∫–ª–∞—Å `InputManager.js`, —è–∫–∏–π –±—É–¥–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –∑–∞ –æ–±—Ä–æ–±–∫—É –Ω–∞—Ç–∏—Å–∫–∞–Ω—å –∫–ª–∞–≤—ñ—à —Ç–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≥—Ä–æ—é. –¶–µ —è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –ø—É–ª—å—Ç –∫–µ—Ä—É–≤–∞–Ω–Ω—è –¥–ª—è –Ω–∞—à–æ–≥–æ —Ç–∞–Ω–∫–∞!

## üîß –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞—Å—É InputManager.js

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `InputManager.js`:

```javascript
export class InputManager {
  constructor(logger) {
    // –°—Ç–∞–Ω –∫–ª–∞–≤—ñ—à (–Ω–∞—Ç–∏—Å–Ω—É—Ç—ñ/–Ω–µ –Ω–∞—Ç–∏—Å–Ω—É—Ç—ñ)
    this.keys = {};

    // –ö–ª–∞–≤—ñ—à—ñ, —è–∫—ñ –±—É–ª–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç—ñ –≤ —Ü—å–æ–º—É –∫–∞–¥—Ä—ñ (–¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∏—Ö –¥—ñ–π)
    this.pressedThisFrame = {};

    // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è
    this.controls = {
      // –†—É—Ö
      UP: ['KeyW', 'ArrowUp'],
      DOWN: ['KeyS', 'ArrowDown'],
      LEFT: ['KeyA', 'ArrowLeft'],
      RIGHT: ['KeyD', 'ArrowRight'],

      // –î—ñ—ó
      SHOOT: ['Space'],
      PAUSE: ['KeyP'],

      // –î–æ–¥–∞—Ç–∫–æ–≤—ñ –∫–ª–∞–≤—ñ—à—ñ
      RESTART: ['KeyR'],
      DEBUG: ['F12'],
    };

    // –°—Ç–∞–Ω –≥—Ä–∏
    this.gameState = {
      isPaused: false,
      isGameOver: false,
    };

    // –õ–æ–≥–≥–µ—Ä –¥–ª—è –∑–∞–ø–∏—Å—É –ø–æ–¥—ñ–π
    this.logger = logger;

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
    this.initEventListeners();

    this.logger.gameEvent('–°–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞');
  }

  /**
   * –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π
   */
  initEventListeners() {
    // –û–±—Ä–æ–±–Ω–∏–∫ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à
    document.addEventListener('keydown', (event) => {
      this.handleKeyDown(event);
    });

    // –û–±—Ä–æ–±–Ω–∏–∫ –≤—ñ–¥–ø—É—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à
    document.addEventListener('keyup', (event) => {
      this.handleKeyUp(event);
    });

    // –ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º –¥—ñ—è–º –±—Ä–∞—É–∑–µ—Ä–∞
    document.addEventListener('keydown', (event) => {
      if (this.isGameKey(event.code)) {
        event.preventDefault();
      }
    });
  }

  /**
   * –û–±—Ä–æ–±–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à—ñ
   * @param {KeyboardEvent} event - –ü–æ–¥—ñ—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
   */
  handleKeyDown(event) {
    const keyCode = event.code;

    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –∫–ª–∞–≤—ñ—à—ñ —è–∫ –Ω–∞—Ç–∏—Å–Ω—É—Ç—É
    this.keys[keyCode] = true;

    // –ü–æ–∑–Ω–∞—á–∞—î–º–æ –∫–ª–∞–≤—ñ—à—É —è–∫ –Ω–∞—Ç–∏—Å–Ω—É—Ç—É –≤ —Ü—å–æ–º—É –∫–∞–¥—Ä—ñ
    this.pressedThisFrame[keyCode] = true;

    // –û–±—Ä–æ–±–ª—è—î–º–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –∫–ª–∞–≤—ñ—à—ñ
    this.handleSpecialKeys(keyCode);

    // –õ–æ–≥—É—î–º–æ —Ç—ñ–ª—å–∫–∏ —ñ–≥—Ä–æ–≤—ñ –∫–ª–∞–≤—ñ—à—ñ (–Ω–µ –≤—Å—ñ)
    if (this.isGameKey(keyCode)) {
      this.logger.gameEvent(`‚å®Ô∏è –ö–ª–∞–≤—ñ—à–∞ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞: ${keyCode}`);
    }
  }

  /**
   * –û–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø—É—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à—ñ
   * @param {KeyboardEvent} event - –ü–æ–¥—ñ—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
   */
  handleKeyUp(event) {
    const keyCode = event.code;

    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –∫–ª–∞–≤—ñ—à—ñ —è–∫ –Ω–µ –Ω–∞—Ç–∏—Å–Ω—É—Ç—É
    this.keys[keyCode] = false;

    // –õ–æ–≥—É—î–º–æ —Ç—ñ–ª—å–∫–∏ —ñ–≥—Ä–æ–≤—ñ –∫–ª–∞–≤—ñ—à—ñ (–Ω–µ –≤—Å—ñ)
    if (this.isGameKey(keyCode)) {
      this.logger.gameEvent(`‚å®Ô∏è –ö–ª–∞–≤—ñ—à–∞ –≤—ñ–¥–ø—É—â–µ–Ω–∞: ${keyCode}`);
    }
  }

  /**
   * –û–±—Ä–æ–±–∫–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –∫–ª–∞–≤—ñ—à
   * @param {string} keyCode - –ö–æ–¥ –∫–ª–∞–≤—ñ—à—ñ
   */
  handleSpecialKeys(keyCode) {
    // –ü–∞—É–∑–∞/–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –≥—Ä–∏
    if (this.controls.PAUSE.includes(keyCode)) {
      this.togglePause();
    }

    // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≥—Ä–∏
    if (this.controls.RESTART.includes(keyCode)) {
      this.restartGame();
    }

    // –†–µ–∂–∏–º –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
    if (this.controls.DEBUG.includes(keyCode)) {
      this.toggleDebug();
    }
  }

  /**
   * –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞ –∫–ª–∞–≤—ñ—à–∞
   * @param {string} action - –î—ñ—è –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
   * @returns {boolean} - true —è–∫—â–æ –∫–ª–∞–≤—ñ—à–∞ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞
   */
  isKeyPressed(action) {
    const keys = this.controls[action];
    if (!keys) return false;

    return keys.some((key) => this.keys[key]);
  }

  /**
   * –û—Ç—Ä–∏–º–∞–Ω–Ω—è –Ω–∞–ø—Ä—è–º–∫—É —Ä—É—Ö—É
   * –ü—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–º—É –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –¥–≤–æ—Ö –∫–ª–∞–≤—ñ—à –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –º–∞—î –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Ä—É—Ö
   * @returns {Object} - –û–±'—î–∫—Ç –∑ –Ω–∞–ø—Ä—è–º–∫–∞–º–∏
   */
  getMovementDirection() {
    const up = this.isKeyPressed('UP');
    const down = this.isKeyPressed('DOWN');
    const left = this.isKeyPressed('LEFT');
    const right = this.isKeyPressed('RIGHT');

    // –Ø–∫—â–æ –Ω–∞—Ç–∏—Å–Ω—É—Ç—ñ —ñ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ —ñ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ñ –∫–ª–∞–≤—ñ—à—ñ,
    // —Ç–æ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –º–∞—î –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Ä—É—Ö
    const hasHorizontal = left || right;
    const hasVertical = up || down;

    if (hasHorizontal && hasVertical) {
      // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Ä—É—Ö
      return {
        up: false,
        down: false,
        left: left,
        right: right,
      };
    }

    // –Ü–Ω–∞–∫—à–µ –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤—Å—ñ –Ω–∞—Ç–∏—Å–Ω—É—Ç—ñ –∫–ª–∞–≤—ñ—à—ñ
    return {
      up: up,
      down: down,
      left: left,
      right: right,
    };
  }

  /**
   * –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞ –∫–ª–∞–≤—ñ—à–∞ —Å—Ç—Ä—ñ–ª—å–±–∏ (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ)
   * @returns {boolean} - true —è–∫—â–æ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞ –≤ —Ü—å–æ–º—É –∫–∞–¥—Ä—ñ
   */
  isShootPressed() {
    const keys = this.controls.SHOOT;
    if (!keys) return false;

    const result = keys.some((key) => this.pressedThisFrame[key]);
    if (result) {
      this.logger.gameEvent(
        'üéØ –ö–ª–∞–≤—ñ—à–∞ —Å—Ç—Ä—ñ–ª—å–±–∏ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∞',
        `–∫–ª–∞–≤—ñ—à—ñ: ${keys.join(', ')}`
      );
    }
    return result;
  }

  /**
   * –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –ø–∞—É–∑–∏
   */
  togglePause() {
    this.gameState.isPaused = !this.gameState.isPaused;
    this.logger.gameEvent(
      `‚è∏Ô∏è –ü–∞—É–∑–∞: ${this.gameState.isPaused ? '—É–≤—ñ–º–∫–Ω–µ–Ω–∞' : '–≤–∏–º–∫–Ω–µ–Ω–∞'}`
    );

    // –í–∏–∫–ª–∏–∫–∞—î–º–æ –ø–æ–¥—ñ—é –ø–∞—É–∑–∏
    this.emitPauseEvent();
  }

  /**
   * –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≥—Ä–∏
   */
  restartGame() {
    this.logger.gameEvent('üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≥—Ä–∏');

    // –í–∏–∫–ª–∏–∫–∞—î–º–æ –ø–æ–¥—ñ—é –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
    this.emitRestartEvent();
  }

  /**
   * –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
   */
  toggleDebug() {
    this.logger.gameEvent('üêõ –†–µ–∂–∏–º –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è –ø–µ—Ä–µ–º–∏–∫–∞—î—Ç—å—Å—è');

    // –í–∏–∫–ª–∏–∫–∞—î–º–æ –ø–æ–¥—ñ—é –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
    this.emitDebugEvent();
  }

  /**
   * –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∏ —Ü–µ —ñ–≥—Ä–æ–≤–∞ –∫–ª–∞–≤—ñ—à–∞
   * @param {string} keyCode - –ö–æ–¥ –∫–ª–∞–≤—ñ—à—ñ
   * @returns {boolean} - true —è–∫—â–æ —ñ–≥—Ä–æ–≤–∞ –∫–ª–∞–≤—ñ—à–∞
   */
  isGameKey(keyCode) {
    const allKeys = Object.values(this.controls).flat();
    return allKeys.includes(keyCode);
  }

  /**
   * –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞–Ω—É –≥—Ä–∏
   * @returns {Object} - –°—Ç–∞–Ω –≥—Ä–∏
   */
  getGameState() {
    return { ...this.gameState };
  }

  /**
   * –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –≥—Ä–∏
   * @param {Object} state - –ù–æ–≤–∏–π —Å—Ç–∞–Ω
   */
  setGameState(state) {
    this.gameState = { ...this.gameState, ...state };
  }

  /**
   * –í–∏–∫–ª–∏–∫ –ø–æ–¥—ñ—ó –ø–∞—É–∑–∏
   */
  emitPauseEvent() {
    const event = new CustomEvent('gamePause', {
      detail: { isPaused: this.gameState.isPaused },
    });
    document.dispatchEvent(event);
  }

  /**
   * –í–∏–∫–ª–∏–∫ –ø–æ–¥—ñ—ó –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
   */
  emitRestartEvent() {
    const event = new CustomEvent('gameRestart');
    document.dispatchEvent(event);
  }

  /**
   * –í–∏–∫–ª–∏–∫ –ø–æ–¥—ñ—ó –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
   */
  emitDebugEvent() {
    const event = new CustomEvent('gameDebug');
    document.dispatchEvent(event);
  }

  /**
   * –û—á–∏—â–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –∫–ª–∞–≤—ñ—à
   */
  clearKeys() {
    this.keys = {};
  }

  /**
   * –û—á–∏—â–µ–Ω–Ω—è –∫–ª–∞–≤—ñ—à, –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏—Ö –≤ —Ü—å–æ–º—É –∫–∞–¥—Ä—ñ
   * –í–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –≤ –∫—ñ–Ω—Ü—ñ –∫–æ–∂–Ω–æ–≥–æ –∫–∞–¥—Ä—É
   */
  clearPressedThisFrame() {
    this.pressedThisFrame = {};
  }

  /**
   * –û—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
   * @returns {Object} - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
   */
  getControlsInfo() {
    return {
      movement: 'WASD –∞–±–æ —Å—Ç—Ä—ñ–ª–∫–∏',
      shoot: '–ü—Ä–æ–±—ñ–ª',
      pause: 'P',
      restart: 'R',
      debug: 'F12',
    };
  }
}
```

## üéÆ –©–æ —Ä–æ–±–∏—Ç—å —Ü–µ–π –∫–ª–∞—Å?

### üîß –û—Å–Ω–æ–≤–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ:

- **`keys`** - –æ–±'—î–∫—Ç –∑—ñ —Å—Ç–∞–Ω–æ–º –∫–ª–∞–≤—ñ—à
- **`controls`** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- **`gameState`** - —Å—Ç–∞–Ω –≥—Ä–∏ (–ø–∞—É–∑–∞, –∫—ñ–Ω–µ—Ü—å –≥—Ä–∏)

### ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ñ –º–µ—Ç–æ–¥–∏:

- **`initEventListeners()`** - —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –ø–æ–¥—ñ–π
- **`handleKeyDown()`** - –æ–±—Ä–æ–±–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à
- **`handleKeyUp()`** - –æ–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø—É—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à
- **`isKeyPressed()`** - –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à—ñ
- **`getMovementDirection()`** - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –Ω–∞–ø—Ä—è–º–∫—É —Ä—É—Ö—É
- **`togglePause()`** - –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –ø–∞—É–∑–∏

## üéØ –°–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è

### ‚å®Ô∏è –ö–ª–∞–≤—ñ—à—ñ —Ä—É—Ö—É:

- **W** –∞–±–æ **‚Üë** - —Ä—É—Ö –≤–≥–æ—Ä—É
- **S** –∞–±–æ **‚Üì** - —Ä—É—Ö –≤–Ω–∏–∑
- **A** –∞–±–æ **‚Üê** - —Ä—É—Ö –≤–ª—ñ–≤–æ
- **D** –∞–±–æ **‚Üí** - —Ä—É—Ö –≤–ø—Ä–∞–≤–æ

### üß† –õ–æ–≥—ñ–∫–∞ —Ä—É—Ö—É:

- **–û–¥–∏–Ω–æ—á–Ω–∏–π —Ä—É—Ö**: –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –æ–¥–Ω—ñ—î—ó –∫–ª–∞–≤—ñ—à—ñ –≥—Ä–∞–≤–µ—Ü—å —Ä—É—Ö–∞—î—Ç—å—Å—è –≤ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–º—É –Ω–∞–ø—Ä—è–º–∫—É
- **–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Ä—É—Ö—É**: –ø—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–º—É –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ—ó —ñ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ—ó –∫–ª–∞–≤—ñ—à—ñ –≥—Ä–∞–≤–µ—Ü—å —Ä—É—Ö–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—ñ
- **–ë–µ–∑ –¥—ñ–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä—É—Ö—É**: –≥—Ä–∞–≤–µ—Ü—å –Ω–µ –º–æ–∂–µ —Ä—É—Ö–∞—Ç–∏—Å—è –ø–æ –¥—ñ–∞–≥–æ–Ω–∞–ª—ñ, —è–∫ –≤ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—ñ–π –≥—Ä—ñ Battle City

### üéÆ –ö–ª–∞–≤—ñ—à—ñ –¥—ñ–π:

- **–ü—Ä–æ–±—ñ–ª** - —Å—Ç—Ä—ñ–ª—å–±–∞
- **P** - –ø–∞—É–∑–∞/–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è
- **R** - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≥—Ä–∏
- **F12** - —Ä–µ–∂–∏–º –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

## ‚ö° –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–æ–±–æ—Ç–∏

### üîÑ –û–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ–π:

- **–ó–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º –¥—ñ—è–º** –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è —ñ–≥—Ä–æ–≤–∏—Ö –∫–ª–∞–≤—ñ—à
- **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É** –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏—Ö –∫–ª–∞–≤—ñ—à
- **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–≥–æ** –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö –∫–ª–∞–≤—ñ—à
- **–ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Ä—É—Ö—É** –ø—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–º—É –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∏—Ö —ñ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏—Ö –∫–ª–∞–≤—ñ—à

### üì° –ü–æ–¥—ñ—ó –≥—Ä–∏:

- **`gamePause`** - –ø–æ–¥—ñ—è –ø–∞—É–∑–∏
- **`gameRestart`** - –ø–æ–¥—ñ—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É
- **`gameDebug`** - –ø–æ–¥—ñ—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è

## üíª –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

```javascript
// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑ –ª–æ–≥–≥–µ—Ä–æ–º
const inputManager = new InputManager(logger);

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à
if (inputManager.isKeyPressed('UP')) {
  // –†—É—Ö –≤–≥–æ—Ä—É
}

// –û—Ç—Ä–∏–º–∞–Ω–Ω—è –Ω–∞–ø—Ä—è–º–∫—É —Ä—É—Ö—É
const direction = inputManager.getMovementDirection();
if (direction.up) {
  // –†—É—Ö –≤–≥–æ—Ä—É
}

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç—Ä—ñ–ª—å–±–∏
if (inputManager.isShootPressed()) {
  // –°—Ç—Ä—ñ–ª—å–±–∞
}

// –ü—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π
document.addEventListener('gamePause', (event) => {
  console.log('–ì—Ä–∞ –ø—Ä–∏–∑—É–ø–∏–Ω–µ–Ω–∞:', event.detail.isPaused);
});
```

## üìù –ü–∞—Ä–∞–º–µ—Ç—Ä logger

**`logger`** - —Ü–µ –æ–±'—î–∫—Ç —Å–∏—Å—Ç–µ–º–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è, —è–∫–∏–π –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∑–∞–ø–∏—Å—É –ø–æ–¥—ñ–π –∫–µ—Ä—É–≤–∞–Ω–Ω—è:

- **–¢–∏–ø**: `GameLogger` –∞–±–æ `null`
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ó–∞–ø–∏—Å –ø–æ–¥—ñ–π –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –¥—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **–ú–µ—Ç–æ–¥–∏**:
  - `gameEvent(message, details)` - –∑–∞–ø–∏—Å —ñ–≥—Ä–æ–≤–∏—Ö –ø–æ–¥—ñ–π
  - `info(message, details)` - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
  - `warning(message, details)` - –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
  - `error(message, details)` - –ø–æ–º–∏–ª–∫–∏

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è**:

```javascript
// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª–æ–≥–≥–µ—Ä–∞
const logger = new GameLogger();

// –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑ –ª–æ–≥–≥–µ—Ä–æ–º
const inputManager = new InputManager(logger);

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
// logger.gameEvent('–°–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞')
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ü—å–æ–≥–æ –∫–ª–∞—Å—É —É –≤–∞—Å –±—É–¥–µ:

- ‚úÖ –ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –≤—Å—ñ—Ö —ñ–≥—Ä–æ–≤–∏—Ö –∫–ª–∞–≤—ñ—à
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—ñ–π –¥–ª—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó
- ‚úÖ –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ –≥—Ä–æ—é

## üöÄ –©–æ –¥–∞–ª—ñ?

–£ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ –º–∏ —Å—Ç–≤–æ—Ä–∏–º–æ –∫–ª–∞—Å –∫—É–ª—ñ, —è–∫–∏–π –±—É–¥–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –∑–∞ —Å—Ç—Ä—ñ–ª—å–±—É.
